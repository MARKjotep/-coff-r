// @bun
import{$ as WX,A as PW,B as SW,C as jW,D as yW,E as wW,F as gW,G as uW,H as kW,I as nW,J as hW,K as d,L as oW,M as cW,N as pW,O as vW,P as mW,Q as iW,R as lW,S as rW,T as dW,U as sW,V as aW,W as L,X as tW,Y as eW,Z as $X,_ as fX,aa as _,ba as s,c as p,ca as XX,d as H,da as M,e as h,ea as QX,f as bW,fa as ZX,g as LW,ga as qX,h as k,ha as BX,i as r,ia as JX,j as E,ja as UX,k as xW,ka as I,l as OW,la as N,m as KW,ma as YX,n as NW,na as VX,o as RW,oa as v,p as CW,pa as GX,q as FW,qa as b,r as MW,ra as bX,s as EW,sa as LX,t as zW,ta as e,u as HW,ua as S,v as AW,va as xX,w as _W,wa as OX,x as DW,xa as KX,y as IW,ya as NX,z as TW,za as RX}from"./index-ecefttf0.js";var M$=Array.from;var O=($)=>E($)?$:[$],H$=($)=>Number($),A$=($)=>Boolean($);var I$=($)=>{let f;return class extends ${constructor(...W){if(f)return f;super(...W);f=this}}},T$=($)=>{return class extends ${constructor(...f){super(...f);let W=new Map;return new Proxy(this,{get(X,Q){let Z=`__${Q}`;if(!W.has(Z)){let q=X[Q];if(k(q))q=function(...J){let B=`${Z}_${JSON.stringify(J)}`;if(!W.has(B)){let U=X[Q].apply(X,J);W.set(B,U)}return W.get(B)};W.set(Z,q)}return W.get(Z)},set(X,Q,Z){let q=`__${Q}`;return W.set(q,Z),!0}})}}},P$=($,f,W)=>{let X=W.value;return{configurable:!0,get(){if(this===$.constructor.prototype)return X;let Q=X.bind(this);return Object.defineProperty(this,f,{value:Q,configurable:!0,writable:!0}),Q}}},S$=($,f,W)=>{let X=W.value,Q=new Map;return W.value=function(...Z){let q=JSON.stringify(Z);if(Q.has(q))return Q.get(q);let J=X.apply(this,Z);return Q.set(q,J),J},W},j$=($)=>{return function(f,W,X){let Q=X.value;return X.value=function(...Z){return console.warn(`\u26A0\uFE0F [${W}] is deprecated: ${$}`),Q.apply(this,Z)},X}};var u$=($,f)=>{let W=$?.class,X=[...f,...Array.isArray(W)?W:W?[W]:[]],Q=Array.from(new Set(X.filter(Boolean)));return $.class=Q,Q};var Z$=($,f="",W={})=>{let{maxAge:X,expires:Q,path:Z,domain:q,secure:J,httpOnly:B,sameSite:U}=W,G=X instanceof Date?Math.floor(X.getTime()/1000):typeof X==="number"?X:void 0,V;if(Q instanceof Date)V=Q.toUTCString();else if(typeof Q==="number")V=new Date(Q).toUTCString();else if(typeof Q==="string")V=Q;else if(Q===0)V=new Date().toUTCString();let Y=[];if(q)Y.push(`Domain=${q}`);if(V)Y.push(`Expires=${V}`);if(G!==void 0)Y.push(`Max-Age=${G}`);if(J)Y.push("Secure");if(B)Y.push("HttpOnly");if(Z!=null)Y.push(`Path=${Z}`);if(U!=null)Y.push(`SameSite=${U}`);return[`${$}=${f}`,...Y].join("; ")},q$=($,f="",W={})=>Z$($,f,W),n$=($,f="",W={})=>{document.cookie=q$($,f,W)};var n="d-css",B$=()=>{let $=document.querySelector(`#${n}`)?.sheet;if($)return $;let f=document.createElement("style");return f.id=n,document.head.appendChild(f),f.sheet??void 0},J$=($,f)=>{let W=$.cssRules;for(let X=0;X<W.length;X++){let Q=W[X];if(Q instanceof CSSStyleRule&&Q.selectorText===f)return!0}return!1},p$=($,f,W)=>{if(J$($,f))return;$.insertRule(`${f} { ${W} }`,$.cssRules.length)},U$=($)=>Object.entries($).map(([f,W])=>`${M(f)}: ${String(W)};`).join(" ");function v$($,f={}){if(L())return;let W=B$();if(!W)return;let X,{cssRules:Q}=W;for(let q=0;q<Q.length;q++){let J=Q[q];if(J instanceof CSSStyleRule&&J.selectorText===$){X=q;break}}if(X!==void 0)W.deleteRule(X);let Z=`${$} { ${U$(f)} }`;W.insertRule(Z,W.cssRules.length)}class T{counter;baseId;constructor($){if($&&$.includes("-")){let f=$.split("-"),W=f.pop()??"0",X=f.join("-");this.baseId=X||I(5),this.counter=h(W)?parseInt(W,10):0}else this.baseId=$??I(5),this.counter=0}get id(){return`${this.baseId}-${this.counter}`}get nextId(){return this.counter+=1,`${this.baseId}-${this.counter}`}}var K=($,f)=>({name:$,content:f}),Y$=($,f)=>({property:$,content:f}),V$=($,f)=>({"http-equiv":$,content:f});class P{tags=[];constructor($){if($)this.tags.push(K("description",$))}author($){return this.tags.push(K("author",$)),this}charset($){return this.tags.push({charset:$}),this}keywords(...$){if($.length>0)this.tags.push(K("keywords",$.join(", ")));return this}viewport($){let f=b($).map(([W,X])=>`${M(W)}=${String(X)}`);if(f.length)this.tags.push(K("viewport",f.join(", ")));return this}httpEquiv($){return b($).forEach(([f,W])=>{this.tags.push(V$(M(f),String(W)))}),this}robots(...$){if($.length)this.tags.push(K("robots",$.join(", ")));return this}themeColor($){return this.tags.push(K("theme-color",$)),this}openGraph($){return b($).forEach(([f,W])=>{this.tags.push(Y$(`og:${f}`,String(W)))}),this}twitter($){return b($).forEach(([f,W])=>{this.tags.push(K(`twitter:${f}`,String(W)))}),this}extend($){return this.tags.push(...$),this}toArray(){return this.tags}}class G${}function Wf($={}){return{title:$.title??"",description:$.description??"",base:$.base??[],meta:$.meta??[],link:$.link??[],script:$.script??[],css:$.css??[],js:$.js??[]}}var b$=["charset","name","property","http-equiv"],z=($,f,W)=>{if(f)S($,{x:!0});else if(!("x"in $))S($,W)},o=($,f,W=!1,X={})=>{f.forEach((Q)=>{for(let Z of b$){if(!(Z in Q))continue;let q=Z==="charset"?"charset_":`${Z}_${Q[Z]}`;z(Q,W,X),$[q]=Q}})},L$=($,f,W=!1,X={})=>{f.forEach((Q)=>{if(!("href"in Q))return;z(Q,W,X),$[Q.href]=Q})};class m{_head;idm;mark;push;constructor({initial:$,mark:f=!1,push:W={}}={}){this._head=new N($),this.mark=f,this.push=W}handleTitleBase($,f){if(f===void 0)return;if($==="base"&&Array.isArray(f)&&f[0]){let W=f[0];z(W,this.mark,this.push)}this._head.set($,f)}handleMeta($){let f=this._head.init("meta",{});if($ instanceof P)o(f,$.tags,this.mark,this.push);else if(Array.isArray($))o(f,$,this.mark,this.push)}handleLink($){if(!Array.isArray($))return;L$(this._head.init("link",{}),$,this.mark,this.push)}handleScript($){if(!Array.isArray($)||!$.length)return;this._head.init("script",[]);let f=$.map((W)=>{if(!W.yid&&this.idm)W.yid="sc"+this.idm.nextId;return z(W,this.mark,this.push),W});this._head.get("script").push(...f)}set head($){b($).forEach(([f,W])=>{if(f==="title"||f==="base"){this.handleTitleBase(f,W);return}if(f==="meta"){this.handleMeta(W);return}if(f==="link"){this.handleLink(W);return}if(f==="script"){this.handleScript(W);return}})}get head(){return this._head}set id($){this.idm=new T($)}}var i=($)=>b($??{}).reduce((f,[W,X])=>{return f.push(p(X)&&X?W:`${W}="${X}"`),f},[""]).join(" "),x$=($)=>{let f={...$},W="";if("importmap"in f)f.type="importmap",W=JSON.stringify(f.importmap),delete f.importmap;else if("body"in f)W=f.body,delete f.body;return`<script${i(f)}>${W}</script>`},c=($,f)=>`<${$}${i(f)}>`,Xf=($)=>{if(!$)return"";let f=new Set,W=new Set,X=[...$];for(let[Q,Z]of X){let q=Z;if(Q==="meta"||Q==="link")q=v(q);if(H(q)){let B=`<${Q}>${q}</${Q}>`;if(Q==="title")f.add(B);else W.add(B);continue}if(!E(q))continue;if(Q==="base"){let B=q.at(-1);if(B)f.add(c("base",B));continue}let J=q.map((B)=>{if(Q==="script")return x$(B);return c(Q,B)});for(let B of J)if(B.includes('type="module"')||B.startsWith("<meta"))f.add(B);else W.add(B)}return[...f,...W].join("")};class O${lang="en";htmlHead;head;constructor({mark:$=!1,push:f={}}={}){this.htmlHead=new N,this.head=(W={})=>{let X=new m({initial:this.htmlHead,mark:$,push:f}),{link:Q,script:Z,meta:q,title:J,description:B,css:U,js:G,base:V}=W;if(B)X.head={meta:[{name:"description",content:B}]};if(K$(X,{css:U,js:G}),V)X.head={base:V};X.head={script:Z,title:J,meta:q,link:Q},this.htmlHead=X.head}}}var K$=($,f)=>{let{css:W,js:X}=f,Q=(J)=>J===void 0?[]:Array.isArray(J)?J:[J],Z=Q(W);if(Z.length){let J=Z.map((B)=>({rel:"preload stylesheet",href:B,as:"style"}));$.head={link:J}}let q=Q(X);if(q.length){let J=q.map((B)=>({src:B}));$.head={script:J}}};var Zf=($)=>$.startsWith(".")||$.startsWith("#");var j=($,f)=>{return b(f).forEach(([W,X])=>{if(X==null)return;$.setAttribute(W,String(X))}),$},Uf=async($)=>{if(L())return;return new Promise((f,W)=>{let X=document.createElement("link"),Q={...$,rel:"stylesheet",as:$.as??"style"};j(X,Q),X.onload=()=>f(X),X.onerror=()=>W(Error("Failed to load CSS")),document.head.appendChild(X)})},Yf=async($)=>{if(L())return;let f=document.createElement("meta");return j(f,$),document.head.appendChild(f),f},Vf=($)=>{if(L())return Promise.resolve(void 0);return new Promise((f,W)=>{let X=document.createElement("script"),Q={...$},Z="";if("importmap"in Q)Q.type=Q.type??"importmap",Z=JSON.stringify(Q.importmap),delete Q.importmap;else if("body"in Q)Z=String(Q.body),delete Q.body;if(Z)X.textContent=Z;j(X,Q),X.onload=()=>f(X),X.onerror=()=>W(Error("Failed to load script")),document.head.appendChild(X)})};var bf=($,f)=>{let W=f==="/"?"":f;if(f.startsWith("#"))return $+f;return f.startsWith("/")?$+W:f};var Af=($)=>{if(L())return null;return $()};function y($=3){let X=((Error().stack?.split(`
`)??[])[$]||"").match(/at\s+([^(]+)\s*\(/);return(X?X[1].split(".").pop()?.trim():"?")??"?"}class l{name;constructor($){this.name=$}log=(...$)=>{let f=y(3);console.log(`[${this.name}.${f}]`,...$)};set i($){let f=y(3);console.log(`[${this.name}.${f}]`,...O($))}}class N${static logger=($)=>{return new l(H($)?$:$.constructor.name)};static set f($){let f=y();console.log(`[${f}]`,...O($))}static set i($){console.info(...O($))}static set e($){console.error(...O($))}static set w($){console.warn(...O($))}static set d($){let f=new Date().toLocaleTimeString();console.log(...O($),`@ ${f}`)}static get d(){let $=new Date().toLocaleTimeString();console.log(`@ ${$}`);return}}var w=($,f=!1)=>{if(r($)){let W=+$;return[W,d(W)?"int":"float"]}if(f&&/\.\w+$/.test($))return[$,"file"];if($==="/")return[$,"-"];if($.length===36&&$.match(/\-/g)?.length===4)return[$,"uuid"];return[$,"string"]},R=($)=>{let f=$.startsWith("/")?$:"/"+$,W=f.match(/(?<=\/)[^/].*?(?=\/|$)/g)??["/"],[X,Q]=W.reduce(([Z,q],J)=>{if(J.includes("<")){let B=J.match(/(?<=<)[^/].*?(?=>|$)/g);if(B?.length){let[U,G]=B[0].split(":");if(U)Z.push(U),q.push(G||"_")}}else Z.push(J===">"?"/":J);return[Z,q]},[[],[]]);if(f.endsWith("/")&&f.length>1)X.push("/");return{parsed:X,args:Q}};class A{storage;constructor(){this.storage=new N}cache($,f){if(this.storage.lacks($))this.storage.set($,f());return this.storage.get($)}}var a=["int","float","file","uuid","string"],R$=($,f)=>{let W={},X=[],{parsed:Q}=R($),{parsed:Z,args:q}=R(f);if(Q.length===Z.length)Z.map((J,B)=>{let U=w(Q[B],Q.length-1===B);if(J===U[0])return U[0];if(a.includes(U[1]))return X.push(U[0]),U[1];return J}),q.forEach((J,B)=>{W[J]=X[B]});return W};class g{_storage;CC;constructor(){this._storage=new N,this.CC=new A}set($){let{parsed:f,path:W}=$,X=_(f);if(!this._storage.get(X))this._storage.set(X,$);else throw`path: ${W} already used.`}get($){let{parsed:f}=this.CC.cache($,()=>R($)),W={},X=this._storage.get(_(f));if(!X&&$!=="/")for(let Q of this._storage.keys()){let Z=[],q=s(Q);if(f.length===q.length){let J=q.map((G,V)=>{let Y=w(f[V],f.length-1===V);if(G===Y[0])return Y[0];if(a.includes(Y[1]))return Z.push(Y[0]),Y[1];return G}),B=_(J);if(this._storage.has(B)){X=this._storage.get(B),X?.args.forEach((G,V)=>{W[G]=Z[V]});break}}}return[X,W]}keys(){return this._storage.keys()}}class t{constructor(...$){$.forEach((f)=>{if(!this[f])this[f]=new g})}get($){return this[$]}}class $${path="";parsed=[];args=[];constructor($){C$(this,{path:$,...R($)})}}function C$($,f){b(f).forEach(([W,X])=>{e($,W,{value:X,writable:!1,configurable:!1,enumerable:!0})})}var x=($,f=2)=>String($).padStart(f,"0"),f$=new Map;function C($,f){let W=JSON.stringify({locale:f,...$}),X=f$.get(W);if(!X)X=new Intl.DateTimeFormat(f,$),f$.set(W,X);return X}var D={YYYY:($)=>String($.getFullYear()),YY:($)=>x($.getFullYear()%100),MMMM:($,f)=>C({month:"long"},f).format($),MMM:($,f)=>C({month:"short"},f).format($),MM:($)=>x($.getMonth()+1),M:($)=>String($.getMonth()+1),dddd:($,f)=>C({weekday:"long"},f).format($),ddd:($,f)=>C({weekday:"short"},f).format($),DD:($)=>x($.getDate()),D:($)=>String($.getDate()),HH:($)=>x($.getHours()),H:($)=>String($.getHours()),hh:($)=>{let f=$.getHours()%12||12;return x(f)},h:($)=>String($.getHours()%12||12),A:($,f)=>{return(C({hour:"numeric",hour12:!0},f).formatToParts($).find((Q)=>Q.type==="dayPeriod")?.value??($.getHours()<12?"AM":"PM")).toUpperCase()},a:($,f)=>{return(C({hour:"numeric",hour12:!0},f).formatToParts($).find((Q)=>Q.type==="dayPeriod")?.value??($.getHours()<12?"AM":"PM")).toLowerCase()},mm:($)=>x($.getMinutes()),m:($)=>String($.getMinutes()),ss:($)=>x($.getSeconds()),s:($)=>String($.getSeconds()),SSS:($)=>x($.getMilliseconds(),3),Q:($)=>String(Math.floor($.getMonth()/3)+1),DoY:($)=>{let f=new Date($.getFullYear(),0,1),W=Math.floor((+$-+f)/86400000)+1;return String(W)}};function sf($,f){D[$]=f,globalThis.__dateTokenRegex=null}function F$(){if(globalThis.__dateTokenRegex)return globalThis.__dateTokenRegex;let $=new RegExp(Object.keys(D).sort((f,W)=>W.length-f.length).map((f)=>f.replace(/([.*+?^${}()|[\]\\])/g,"\\$1")).join("|"),"g");return globalThis.__dateTokenRegex=$,$}function W$($,f="YYYY-MM-DD HH:mm:ss",W){let X=typeof $==="number"?new Date($):typeof $==="string"?new Date($):$,Q=F$(),Z=new Map;return f.replace(Q,(q)=>{if(Z.has(q))return Z.get(q);let J=D[q],B=J?J(X,W):q;return Z.set(q,B),B})}Date.prototype.format=function($,f){return W$(this,$,f)};Date.registerFormat=function($,f){D[$]=f,globalThis.__dateTokenRegex=null};Date.format=function($,f){return new Date().format($,f)};class u{date;constructor($){this.date=$?new Date($):new Date}timed($,f=1){let W=[["year","FullYear"],["month","Month"],["day","Date"],["hour","Hours"],["minute","Minutes"],["second","Seconds"],["millisecond","Milliseconds"]],X=this.date;if($.quarter)X.setMonth(X.getMonth()+3*$.quarter);if($.week)X.setDate(X.getDate()+7*$.week);for(let[Q,Z]of W){let q=$[Q];if(q!==void 0&&q!==0)X[`set${Z}`](X[`get${Z}`]()+q)}if($.startOfMonth)X.setDate(1),X.setHours(0,0,0,0);if($.endOfMonth)X.setMonth(X.getMonth()+1,0),X.setHours(23,59,59,999);if($.week!==void 0&&f!==void 0){let Z=(X.getDay()-f+7)%7;X.setDate(X.getDate()-Z)}return X}static timed($,f=1){return new u().timed($,f)}static local($){return new Date($).toLocaleString()}local(){return this.date.toLocaleDateString()}format($="YYYY-MM-DD HH:mm:ss",f){return W$(this.date,$,f)}static format($="YYYY-MM-DD HH:mm:ss",f){let W=new Date,X=typeof W==="number"?new Date(W):typeof W==="string"?new Date(W):W,Q=(F,Q$=2)=>String(F).padStart(Q$,"0"),Z=X.getHours(),q=Z%12||12,J=new Intl.DateTimeFormat(f,{month:"long"}).format(X),B=new Intl.DateTimeFormat(f,{month:"short"}).format(X),U=new Intl.DateTimeFormat(f,{weekday:"long"}).format(X),G=new Intl.DateTimeFormat(f,{weekday:"short"}).format(X),Y=new Intl.DateTimeFormat(f,{hour:"numeric",hour12:!0}).formatToParts(X).find((F)=>F.type==="dayPeriod")?.value||(Z<12?"AM":"PM"),X$={YYYY:String(X.getFullYear()),YY:Q(X.getFullYear()%100),MMMM:J,MMM:B,MM:Q(X.getMonth()+1),M:String(X.getMonth()+1),dddd:U,ddd:G,DD:Q(X.getDate()),D:String(X.getDate()),HH:Q(Z),H:String(Z),hh:Q(q),h:String(q),A:Y.toUpperCase(),a:Y.toLowerCase(),mm:Q(X.getMinutes()),m:String(X.getMinutes()),ss:Q(X.getSeconds()),s:String(X.getSeconds()),SSS:Q(X.getMilliseconds(),3),Q:String(Math.floor(X.getMonth()/3)+1)};return $.replace(/YYYY|YY|MMMM|MMM|MM|M|dddd|ddd|DD|D|HH|H|hh|h|A|a|mm|m|ss|s|SSS|Q/g,(F)=>X$[F])}static get now(){return Date.now()}random($=new Date){let f=this.date.getTime(),W=$.getTime(),X=f+Math.random()*(W-f);return new Date(X)}static random($,f=new Date){let W=$.getTime(),X=f.getTime(),Q=W+Math.random()*(X-W);return new Date(Q)}delta($){let f=this.date;if($.year)f.setFullYear(f.getFullYear()+$.year);if($.month)f.setMonth(f.getMonth()+$.month);if($.day)f.setDate(f.getDate()+$.day);if($.hour)f.setHours(f.getHours()+$.hour);if($.minute)f.setMinutes(f.getMinutes()+$.minute);if($.second)f.setSeconds(f.getSeconds()+$.second);return f}static delta($){return new u().delta($)}}export{v$ as upsertCSS,u$ as updateClass,BX as stripOnce,qX as strip,UX as strDecode,s as sparse,n$ as setDocumentCookie,Z$ as setCookie,q$ as serializeCookie,Vf as scriptLoader,Xf as renderHead,sf as registerToken,M as reCamel,ZX as randomAZ,QX as rand,w as pathType,R as parsePath,NX as objectUpdated,v as oVals,OX as oLen,GX as oKeys,b as oItems,xX as oHas,LX as oFreeze,bX as oFItems,e as oDefine,S as oAss,WX as numSequence,_ as ngify,Yf as metaLoader,S$ as memoize,R$ as matchPath,I as makeID,N$ as log,VX as keyInMapArray,YX as keyInMap,hW as isWhitespace,IW as isWeakSet,DW as isWeakMap,jW as isUndefined,NW as isUint8Array,LW as isSymbol,fX as isSubclassOf,H as isString,_W as isSet,mW as isRegExp,EW as isRecord,xW as isReadonlyArray,lW as isPromise,dW as isPrimitive,cW as isPositiveNumber,FW as isPlainObject,TW as isObjectLike,CW as isObject,r as isNumberLike,h as isNumber,wW as isNullish,SW as isNull,uW as isNotNullish,gW as isNotNull,L as isNotBrowser,pW as isNonNegativeNumber,PW as isNonFunctionObject,nW as isNonEmptyString,MW as isNonEmptyObject,sW as isModule,AW as isMap,zW as isIterable,d as isInteger,$X as isInstanceOf,k as isFunction,oW as isFiniteNumber,iW as isError,kW as isEmptyString,rW as isEmpty,yW as isDefined,vW as isDate,Zf as isClassOrId,eW as isClass,aW as isBrowser,p as isBoolean,RW as isBinaryLike,bW as isBigInt,HW as isAsyncIterable,tW as isAsyncFunction,KW as isArrayBufferView,OW as isArrayBuffer,E as isArray,J$ as hasExistingRule,B$ as getOrCreateStyleSheet,i as getAttr,W$ as formatDate,p$ as ensureRule,j$ as deprecated,Uf as cssLoader,Wf as createHead,KX as compareObjects,XX as camel,JX as buffed,P$ as bind,H$ as asNumber,A$ as asBool,O as asArray,M$ as arrFrom,RX as areSetsEqual,bf as addBASE,u as Time,t as SymStorage,g as Storage,I$ as Singleton,$$ as MinStorage,P as MetaBuilder,N as Mapper,Af as IfClient,T as Idm,O$ as HtmlHead,m as HeadCtx,G$ as Head,A as Cacher,T$ as Cached,K$ as CSSJSHead};
